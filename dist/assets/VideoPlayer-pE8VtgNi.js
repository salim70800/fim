import{r as a,j as e}from"./react-core-Cfr18xtl.js";import{g as f,P as j,V as N,h as v,i as b}from"./lucide-Dk-NOH9t.js";function _({servers:l,title:o,autoPlay:w=!1}){const[t,i]=a.useState(null),[d,c]=a.useState(!0),[y,x]=a.useState(!1),m=a.useRef(null);a.useEffect(()=>{const s=l.filter(n=>n.is_active);if(s.length>0){const n=[...s].sort((g,p)=>g.priority-p.priority);i(n[0])}},[l]);const u=s=>{c(!0),i(s),x(!1)},h=()=>{c(!1)},r=l.filter(s=>s.is_active);return r.length===0?e.jsx("div",{className:"w-full aspect-video bg-neutral-900 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-neutral-400 mb-2",children:"لا توجد سيرفرات متاحة حالياً"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"يرجى المحاولة لاحقاً"})]})}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"relative w-full aspect-video bg-black rounded-lg overflow-hidden group",children:[d&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-neutral-900 z-10",children:e.jsx(f,{className:"w-12 h-12 text-orange-500 animate-spin"})}),t&&e.jsx("iframe",{ref:m,src:t.embed_url,title:o,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:h}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"hover:text-orange-500 transition-colors",children:e.jsx(j,{className:"w-5 h-5"})}),e.jsx("button",{className:"hover:text-orange-500 transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm",children:t?.quality||"HD"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm",children:t?.server_name}),e.jsx("button",{className:"hover:text-orange-500 transition-colors",children:e.jsx(v,{className:"w-5 h-5"})}),e.jsx("button",{className:"hover:text-orange-500 transition-colors",children:e.jsx(b,{className:"w-5 h-5"})})]})]})})]}),e.jsxs("div",{className:"bg-neutral-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-white font-semibold",children:"السيرفرات المتاحة"}),e.jsxs("span",{className:"text-sm text-neutral-400",children:[r.length," سيرفر"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:r.map(s=>e.jsx("button",{onClick:()=>u(s),className:`
                px-4 py-2.5 rounded-lg text-sm font-medium transition-all
                ${t?.id===s.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}
              `,children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{children:s.server_name}),e.jsxs("span",{className:"text-xs opacity-75",children:[s.quality," • ",s.language]})]})},s.id))}),t&&e.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-800",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-400",children:"السيرفر الحالي:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:t.server_name}),e.jsx("span",{className:"px-2 py-0.5 bg-orange-500/20 text-orange-500 rounded text-xs",children:t.quality}),e.jsx("span",{className:"px-2 py-0.5 bg-neutral-800 text-neutral-300 rounded text-xs",children:t.language})]})]})})]})]})}export{_ as V};
